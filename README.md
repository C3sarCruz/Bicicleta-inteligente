# Casco-inteligente

# Integrantes: 
•	Maria Guadalupe Puente Gonzalez <br>
•	Cesar Guerrero Cruz

# Objetivo:
* Creación de un sistema de monitorio de ambiente para que los ciclistas puedan monitorear su alrededor o su progreso.

# Descripción:
El sistema contará con distintos sensores para capturar datos que se mostrará a los ciclistas para que estén al tanto de su avance o lo que está pasando a su alrededor. 
Contará con un sensor de temperatura que le indicara la temperatura del ambiente, sensor de a proximidad que indicara la a proximidad de los objetos que se encuentra en su recorrido, sensor de gas que nos indicará si hay gases tóxicos o peligrosos y un sensor de movimiento que permite detectar el actual movimiento que lleve el ciclista. También contara con actuadores que ayudaran a los sensores a pasar el mensaje que estén detectando, los actuadores que se utilizaran será un led, pantalla oled, buzzer y gauge


# Visión:
Nuestro producto está dirigido a todo usuario que realizan ciclismo, ya que nuestros usuarios son ciclistas el problema a resolver es la disminución de accidentes. Con nuestro un producto buscamos ofrecer que pueda monitorear su alrededor asiendo su actividad más segura y satisfactoria ya que podrá monitorear diferentes factores que están pasando en su ambiente o alrededor. Nuestro casco inteligente busca darle al ciclista una mejor herramienta para que pueda hacer su actividad y al mismo tiempo tener un registro de su avance o los factores que ocurrieron a su alrededor.

# Necesidad que cubre:
La idea es ofrecer un producto que busque satisfacer las necesidades de nuestro usuario, proporcionando un producto de calidad que pueda cumplir con sus espectativas. el casco inteligente tiene direfentes beneficios ya que el pedalear es económico,  e ideal para convertirlo en una actividad deportiva. Además tiene grandes beneficios para el cuerpo y prevenir enfermedades ya que es una de las actividades físicas más completas. 
Tomando lo anterior como punto de partida, se pretende crear un producto que sea un accesorio que ayude a monitorear el avance que nuestros usuarios tengan, tambien contara con otras fucniones que le seaun utilez al usuario como serian; la lectura de clima, la velocidad, distancia entre otras. Esto con la finalidad que sea mas satisfactorio el paseo en cicibleta y que se tenga un registro de avances.

# Competencias en el mercado:
	Una smart bike es una bicicleta diseñada para entrenar en interiores. Muchas personas conocen las típicas bicis de gimnasio o de spinning, pero esta es diferente. Es un dispositivo enfocado a facilitar una experiencia lo más aproximada posible al rodar en bici en exterior.
	Un rodillo es un sistema que bloquea la rueda trasera de tu bici con la ayuda de un soporte y que te permite pedalear en casa. En la actualidad, los más populares son los rodillos interactivos de transmisión directa. Funcionan de la siguiente manera: se quita la rueda de la bici y se monta sobre el cassette instalado en el propio rodillo.


# ¿Qué tiene mejor nuestro proyecto que la competencia no?
Anteriormente se mencionan dos productos que estan en el mercado y que serian nuestra competencia, pero… ¿Qué mejora tiene nuestro Casco Inteligente? Es sencillo, nuestro producto esta dirijido al publico que realiza ciclismo y que disfruta salir de su vivienda para realizar esta actvidad. Con nuestro producto buscamos mejorar la esperiencia de nuestros usuarios, volviendolo un producto competitivo. Si bien tambien nuestro producto contara con sensores ya ctuadores que realizaran diferentes funciones para que nuestros usuarios vayan monitoriando su alrededor y su actividad fisica.
Ya que el ciclismo es un deporte que ofrece numerosos beneficios para la salud física y mental por ello nuestro producto será una gran herramienta para todos aquellos usuarios que desean mejorar su experiencia realizando esta actividad física.


# Software empleado:
•	Node-RED es una herramienta de programación visual. Muestra visualmente las relaciones y funciones, y permite al usuario programar sin tener que escribir una lengua. Node-RED es un editor de flujo basado en el navegador donde se puede agregar o eliminar nodos y conectarlos entre sí con el fin de hacer que se comuniquen entre ellos.
	Version: Node-RED version: v3.1.9

•	Node. js es un entorno de ejecución JavaScript de código abierto y multiplataforma que se utiliza para desarrollar aplicaciones escalables del lado del servidor y de red
	Version: Node.js  version: v14.21.3

•	SQLite, SQLite es una herramienta de software libre, que permite almacenar información en dispositivos empotrados de una forma sencilla, eficaz, potente, rápida y en equipos con pocas capacidades de hardware, como puede ser una PDA o un teléfono celular. SQLite implementa el estándar SQL92 y también agrega extensiones que facilitan su uso en cualquier ambiente de desarrollo.
	Version: SQLite 10.3 (64 bits)

•	Arduino IDE, El entorno de desarrollo integrado de Arduino es una aplicación multiplataforma que está escrita en el lenguaje de programación Java. Este sofware es funcional para compilar codigo.
	Version: Arduino IDE 2.3.2

•	Thonny es un programa de desarrollo gratuito para PC que fue creado por un desarrollador independiente que lleva el mismo nombre. Es un entorno de desarrollo integrado (IDE) de código abierto que se puede utilizar para crear diversas aplicaciones utilizando el lenguaje de programación Python.
	Version: Thonny 4.0.2

•	Visual Studio e IDE más completo para desarrolladores de .NET y C++ en Windows para crear aplicaciones web, en la nube, de escritorio, móviles, servicios y juegos. 
	Version: Visual Studio 3.4.3

•	Wokwi es una fascinante herramienta consistente en un simulador de proyectos Arduino, que también sirve para microcontroladores ESP32 y STM32. Puede simular visualmente y mediante objetos y conexiones móviles las placas, cables y componentes y también ejecutar el código y mostrar qué es lo que hace.
	Versiones: Wokwi, la version el linea

•	TinkerCAD Diseños 3D es la herramienta que nos permitirá diseñar de la forma más sencilla objetos y piezas. Es un software CAD basado en una geometría sólida constructiva (CSG), que permite a los usuarios crear modelos mediante la combinación de objetos más simples.
Versiones: TinkerCAD, la version en linea

# Librerias:
•	TFT_eSPI biblioteca de gráficos TFT para procesadores Arduino con optimización de rendimiento para RP2040, STM32, ESP8266 y ESP32.
Admite pantallas TFT utilizando controladores (ILI9341, etc.) que operan con hardware SPI o paralelo de 8/16 bits.<br>
Version: TFT_Espi 2.5.43 <br>
•	Librería en VHDL para controlar un sensor de temperatura y humedad DHT11 mediante protocolo serial OneWire. La librería realiza un muestreo cada dos segundos y realiza la operación de Checksum para compararlo con el Checksum del error y así comprobar la correcta transferencia de datos, en caso contrario se envía una señal de error la cual detiene el proceso de adquisición.<br>
Version: VHDL 1.1.0 

# Hardware empleado:
| Nombre | Description | Imagen |
| --- | --- | --- |
| Sensor de Gas| son instrumentos que detectan la presencia de gases peligrosos en el aire. Su función principal es prevenir la exposición a gases tóxicos y combustibles.   | ![](https://github.com/C3sarCruz/Bicicleta-inteligente/blob/main/GAS.jpg) |
| Sensor de temperatura    | Este sensor permitira medir la temperatura mediante una señal eléctrica determinada. Dicha señal puede enviarse directamente o mediante el cambio de la resistencia.     | ![](https://github.com/C3sarCruz/Bicicleta-inteligente/blob/main/Sensor%20de%20temperatura.jpeg)|
| Sensor ultrasonico   | Su función es monitorear los movimientos de objetos en un espacio determinado.    | ![](https://github.com/C3sarCruz/Bicicleta-inteligente/blob/main/Ultrasonico.png) |
| Buzzer    | El actuador Buzzer funcionara para evitar señales o aviso de emergencias  | ![](https://github.com/C3sarCruz/Bicicleta-inteligente/blob/main/Buzzer.jpeg)|
| Leds    |  Leds para dar aviso a anomalias o cambios dentro del circuito  | ![](https://github.com/C3sarCruz/Bicicleta-inteligente/blob/main/leds.jpeg)|
| ESP32   | Se trata de un microcontrolador que integra tecnologías WiFi y Bluetooth, que le proporcionan conectividad con internet u otros dispositivos.  | ![](https://github.com/C3sarCruz/Bicicleta-inteligente/blob/main/nodemcu-esp32.jpg) | 
| Pantalla OLED   | Ofrecen ángulos de visión más amplios, lo que permite mostrar el contenido de la pantalla a varias personas a la vez.  | ![](https://github.com/C3sarCruz/Bicicleta-inteligente/blob/main/OLED.webp) | 
| Sensor PIR | Los sensores infrarrojos pasivos (PIR) son dispositivos para la detección de movimiento. Son baratos, pequeños, de baja potencia, y fáciles de usar. Por esta razón son frecuentemente usados en juguetes, aplicaciones domóticas o sistemas de seguridad.  | ![](https://github.com/C3sarCruz/Bicicleta-inteligente/blob/main/PIR.webp) | 


# Historias de usuario:
| Sprint  | No° Historia | Descripción |
| ---         |     ---   |  --- |
| 1   | HU1 - Desarrollo del Dashboard   | Yo como usuario  Activo – Casco Inteligente Necesito que: El desarrollo del dashboard en el cual se visualize todas las actividades que se van a monitorear con la instalacion del circuito. git status 1.- Los dias que aplique la actvidad de ciclismo, es necesario que en el dashboard se visualize el monitoreo de la actvididad fisica, como es la velocidad, distancia, pocision, movimiento, temperatura, apromididad y ubicación. 2.- Es necesario que se registre la actividad diaria en un historial en el cual pueda acceder a ella y realizar un analisi del avance de la actividad fisica.|
| 2    | HU2 – Desarrollo del circuito      | Yo como usuario  Activo – Casco Inteligente Necesito que: El desarrollo del circuito el cual sera el responsable de leer el comportamiento que se tiene al momento de realizar la actividad fisica (ciclismo). 1.- La lectura de los sensores que tendra el circuito tendra que mandar esa lectura al dashboard en la cual se mostrara al usuario y se guardara como historial. 2.-	Es necesario realizar la coneccion del circuito y el desarrollo de codigo necesario para la fucionalidad. 3.-	Se tendra que desarrollar una carcasa en la cual se pondra el circuito para la proteccion de el y que la instalacion en la bicileta sea mas sensilla y practica. 4.-	Programacion de sensores para el circuito. •	Sensor de aproximidad •	Sensor de temperatura•	Sensor de movimiento •	Sensor de gas •	Actuador Buzzer y Leds    |
| 3     | HU3 – Integracion del Dashboard y Circuito      | Yo como usuario  Activo – Casco Inteligente Necesito que: Que tanto el dashboard como el circuito tengan comunicación para que puedan cumplir con su objetivo. 1.- Todo el circuito ya funcional con su codigo tendra que tener comunicacion con el Dashboard para que puedan mostrar le al usuario la lectura que realizan los sensores y/o actuadores al momento de realizar la actividad fisica(ciclismo). 2.-	Se empleara todo el producto a un casco ciclista para comvertirla en una casco inteligente y que el producto muestre su funcionalidad.3.-	Programacion de la pantalla inteligente en la cual se le mostrara el Dashboard al usuario|

# Prototipo
Este proyecto consiste en un accesorio para los bicicletas con el fin de mejorar la experiencia y comodidad de los usuarios que practiquen ciclismo, convirtiendo un simple casco en uno capaz de leer su entorno, aprender de él y dar a los usuarios retroalimentación de su progreso. 
La misión del proyecto es la de crear un accesorio práctico y simple de usar para que los usuarios puedan interactuar fácilmente con el Este proyecto contará con la instalación de un sensor de proximidad para determinar la distancia que hay entre el usuario que usa el casco y los objetos que se encuentran alrededor.
Mensionado lo anterior se muestra un prototipo de nuestro producto en donde se plasma nuestro producto y el como esta diseñado, esto para generar un producto satisfactorio.

![](https://github.com/C3sarCruz/Bicicleta-inteligente/blob/main/bicicleta.png)

# Arquitectura
La arquitectura en Capas.

![](https://github.com/C3sarCruz/Bicicleta-inteligente/blob/main/Arquitectura.png)

* Esta arquitectura es la escojida debido ya que se dibide en capas y cada una de ellas tiene una tarea en espesifico y pueden ser capas independientes, es decir cada capa puede estar diseñada para una tarea especifica y entre laas capas pueden tener comunicación a travez de una interfaz bien definida.
* Por ello se escogio esta arquitectura para el proyecto del casco inteligente ya que se podra dividir en modulos independiente y tener comunicación entre ellos, es decir;
* En la primera capa llamada Modelo: Se define qué datos deben contener la aplicación. Si el estado de estos datos cambia, el modelo generalmente notificará a la vista (para que la pantalla pueda cambiar según sea necesario) y, a veces, el controlador (si se necesita una lógica diferente para controlar la vista actualizada).
* Es decir aquí entra el circuito con todos sus sensores ya que ellos nos proporcionaran la lectura del ambiente y la mostrara en la vista al usuario de una manera en la que el usuario pueda visualizarla estructrada y entendrible. Cada sensor mostrara lecturas diferentes como son; la temperatura, distancia, velocidad entre otras mas y asi se creara la primera capa de modelo. En este modelo entra tambien la base de datos ya que en ella se guardaran todos los datos recolectados por los sensores y estos datos seran enviados a la vista.
* En la segunda capa llamada Vista: La vista define cómo se deben mostrar los datos de la aplicación. En esta capa se mostrara en Dashboard que sera desarrollado para que pueda mostrar los datos que los sensores leyeron del ambiente al cual seran expuestos, en esta capa se mostraran todos los datos estructurados que seran llamados de la base de datos para que puedan ser leidos de forma por el usuario y puedan entenderlos.
* La tercera capa llamada Controlador: El controlador contiene una lógica que actualiza el modelo y/o vista en respuesta a las entradas de los usuarios de la aplicación. En este se conectan las capas anteriores ya que cada una tiene una tarea diferente pero que conjuntas forman en producto, en el controlador creara que la funcionalidad de cada capa formen en sistema. Esta en la comunicación que se tendra mediante red mqtt facilita a los desarrolladores el cifrado de mensajes y la autenticación de dispositivos y usuarios mediante protocolos de autenticación modernos.


# Tablero Trello

+ Sprint 1. Se genero el primer spring con la integración de la placa esp32 para poder agregar las funcionalidades del sensor ultrasónico, esta placa es provisional, ya que será sustituida por una Pantalla tactil ESP32.
+ ![](https://github.com/C3sarCruz/Bicicleta-inteligente/blob/main/Trello1.jpg)
+ Sprint 2. El desarrollo del circuito el cual sera el responsable de leer el comportamiento que se tiene al momento de realizar la actividad fisica (ciclismo).
+ ![](https://github.com/C3sarCruz/Bicicleta-inteligente/blob/main/Trello2.jpg)
+ Sprint 3. Que tanto el dashboard como el circuito tengan comunicación para que puedan cumplir con su objetivo y la integracion de la pantalla inteligente.
+ ![](https://github.com/C3sarCruz/Bicicleta-inteligente/blob/main/Trello3.jpg)

# Circuito diseñado para el proyecto completo
En el siguiente circuito se muestra como estara diseñado nuestro circuito para el casco inteligente, en el cual se muestran todos los sensores mencionados anteriormente que tendran como objetivo generar un producto de calidad y que pueda satisfacer las necesidades de nuestros usuarios ciclistas

![](https://github.com/C3sarCruz/Bicicleta-inteligente/blob/main/circuito.png)
![](https://github.com/C3sarCruz/Bicicleta-inteligente/blob/main/nodemcu-esp32.jpg)

# Resultados 
Spring 1. Se agrego la funcionalidad del sensor ultrasónico y Buzzer con su led. Como resultado esperado, el sensor ultrasonico tiene que tener la funcionalidad medir la distancia que existe entre un objeto contando el tiempo entre la emisión y la recepción. por otro lado en Buzzer produce un sonido o zumbido continuo o intermitente de un mismo tono, que su funcion es una alarma que sera actividad dependiendo de lo serca que este un objeto al igual que el led funcionara como una alerta, los 3 son un consjunto para una funcionalidad efectiva.

![](https://github.com/C3sarCruz/Bicicleta-inteligente/blob/main/Sprint%201%20fisico.jpg)
![](https://github.com/C3sarCruz/Bicicleta-inteligente/blob/main/Sprint1fisico.jpg)

# Resultados esperados del proyecto completo
El casco inteligentes, ofrecen una serie de resultados esperados para los ciclistas. A continuación, se presentan algunos de estos resultados:

* Optimización del rendimiento: El casco inteligentes está diseñada para ayudar a los ciclistas a optimizar su rendimiento. Este casco utiliza sensores y actuadores llamados dispositivos inteligentes esto para proporcionar una experiencia satisfactoria, permitiendo a los ciclistas entrenar.
* Datos en el Dashboard: El casco inteligente contara con un panel en el cual se mostrarán los datos se los sensores. Es importante asegurarse de que el software que se va a utilizar sea compatible con el casco inteligente seleccionada

En resumen, el casco inteligentes ofrecen la posibilidad de optimizar el rendimiento, entrenar y disfrutar de una experiencia. 



 

